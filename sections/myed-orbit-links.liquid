{{ 'myed-orbit-links.css' | asset_url | stylesheet_tag }}

<section
  class="myed-orbit-links myed-orbit-links--{{ section.settings.align }}"
  style="--myed-orbit-size: {{ section.settings.circle_size }}px; --myed-orbit-gap: {{ section.settings.gap }}px;"
>
  <div class="myed-orbit-links__inner page-width">
    <div class="myed-orbit-links__group">
      {%- if section.settings.show_heading_1 -%}
        <h2 class="myed-orbit-links__heading">{{ section.settings.heading_1 | escape }}</h2>
      {%- endif -%}
      <nav
        class="myed-orbit-links__nav"
        aria-label="{{ section.settings.heading_1 | default: 'Nach Stimmung shoppen' | escape }}"
      >
        <ul class="myed-orbit-links__list" role="list">
          {%- for block in section.blocks -%}
            {%- if block.settings.group == 'mood' -%}
              <li class="myed-orbit-links__list-item" {{ block.shopify_attributes }}>
                {%- assign orbit_link = block.settings.link | default: '#' -%}
                <a
                  class="myed-orbit-links__item"
                  href="{{ orbit_link }}"
                  aria-label="{{ block.settings.label | default: 'Stimmung' | escape }}"
                >
                  <span class="myed-orbit-links__media">
                    {%- if block.settings.image != blank -%}
                      {{
                        block.settings.image
                        | image_url: width: 240
                        | image_tag:
                          loading: 'lazy',
                          class: 'myed-orbit-links__image',
                          alt: block.settings.label,
                          widths: '120, 160, 240',
                          sizes: '(max-width: 749px) 72px, 96px'
                      }}
                    {%- else -%}
                      <span class="myed-orbit-links__fallback" aria-hidden="true">
                        {{- block.settings.label | default: '?' | slice: 0, 1 | upcase -}}
                      </span>
                    {%- endif -%}
                  </span>
                  {%- if block.settings.label != blank -%}
                    <span class="myed-orbit-links__label">{{ block.settings.label | escape }}</span>
                  {%- endif -%}
                </a>
              </li>
            {%- endif -%}
          {%- endfor -%}
        </ul>
      </nav>
    </div>

    <div class="myed-orbit-links__group">
      {%- if section.settings.show_heading_2 -%}
        <h2 class="myed-orbit-links__heading">{{ section.settings.heading_2 | escape }}</h2>
      {%- endif -%}
      <nav
        class="myed-orbit-links__nav"
        aria-label="{{ section.settings.heading_2 | default: 'Nach Duft shoppen' | escape }}"
      >
        <ul class="myed-orbit-links__list" role="list">
          {%- for block in section.blocks -%}
            {%- if block.settings.group == 'scent' -%}
              <li class="myed-orbit-links__list-item" {{ block.shopify_attributes }}>
                {%- assign orbit_link = block.settings.link | default: '#' -%}
                <a
                  class="myed-orbit-links__item"
                  href="{{ orbit_link }}"
                  aria-label="{{ block.settings.label | default: 'Duft' | escape }}"
                >
                  <span class="myed-orbit-links__media">
                    {%- if block.settings.image != blank -%}
                      {{
                        block.settings.image
                        | image_url: width: 240
                        | image_tag:
                          loading: 'lazy',
                          class: 'myed-orbit-links__image',
                          alt: block.settings.label,
                          widths: '120, 160, 240',
                          sizes: '(max-width: 749px) 72px, 96px'
                      }}
                    {%- else -%}
                      <span class="myed-orbit-links__fallback" aria-hidden="true">
                        {{- block.settings.label | default: '?' | slice: 0, 1 | upcase -}}
                      </span>
                    {%- endif -%}
                  </span>
                  {%- if block.settings.label != blank -%}
                    <span class="myed-orbit-links__label">{{ block.settings.label | escape }}</span>
                  {%- endif -%}
                </a>
              </li>
            {%- endif -%}
          {%- endfor -%}
        </ul>
      </nav>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "MyEdenDay Orbit Links",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading_1",
      "label": "Heading 1",
      "default": "Nach Stimmung shoppen"
    },
    {
      "type": "checkbox",
      "id": "show_heading_1",
      "label": "Show heading 1",
      "default": true
    },
    {
      "type": "text",
      "id": "heading_2",
      "label": "Heading 2",
      "default": "Nach Duft shoppen"
    },
    {
      "type": "checkbox",
      "id": "show_heading_2",
      "label": "Show heading 2",
      "default": true
    },
    {
      "type": "select",
      "id": "align",
      "label": "Alignment",
      "default": "center",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    },
    {
      "type": "range",
      "id": "circle_size",
      "min": 40,
      "max": 84,
      "step": 2,
      "unit": "px",
      "label": "Circle size",
      "default": 56
    },
    {
      "type": "range",
      "id": "gap",
      "min": 8,
      "max": 28,
      "step": 1,
      "unit": "px",
      "label": "Gap",
      "default": 16
    }
  ],
  "blocks": [
    {
      "type": "orbit_item",
      "name": "Orbit item",
      "settings": [
        {
          "type": "select",
          "id": "group",
          "label": "Group",
          "default": "mood",
          "options": [
            { "value": "mood", "label": "Mood" },
            { "value": "scent", "label": "Scent" }
          ]
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Calm"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "MyEdenDay Orbit Links"
    }
  ]
}
{% endschema %}
