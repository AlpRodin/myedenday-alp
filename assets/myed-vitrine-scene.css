/* ==========================================================================
  MyED — Vitrine — Scene FX (CANONICAL)
  Scope: ONLY myed-vitrine.myed-vitrine
  - Spotlight + soft beam (CSS gradients)
  - Vignette
  - Floor reflection band (subtle, starts BELOW shelf)
========================================================================== */

myed-vitrine.myed-vitrine{
  --myed-spot-a: 0.42;
  --myed-beam-a: 0.34;
  --myed-vig-a: 0.42;
  --myed-floor-a: 0.55;

  --myed-spot-left-x: 34%;
  --myed-spot-right-x: 68%;
}

myed-vitrine.myed-vitrine .myed-vitrine__fx{
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

/* Spotlight + soft beam */
myed-vitrine.myed-vitrine .myed-vitrine__fx::before{
  content:"";
  position: absolute;
  inset: 0;

  background:
    radial-gradient(520px 420px at var(--myed-spot-left-x) 22%,
      rgba(255,255,255,var(--myed-spot-a)) 0%,
      rgba(255,255,255,0.10) 26%,
      rgba(255,255,255,0.00) 60%),

    radial-gradient(640px 520px at var(--myed-spot-right-x) 26%,
      rgba(255,255,255,calc(var(--myed-spot-a) * 0.72)) 0%,
      rgba(255,255,255,0.08) 28%,
      rgba(255,255,255,0.00) 62%),

    radial-gradient(900px 520px at var(--myed-spot-left-x) 0%,
      rgba(255,255,255,calc(var(--myed-beam-a) * 0.18)) 0%,
      rgba(255,255,255,0.00) 55%),

    radial-gradient(980px 560px at var(--myed-spot-right-x) 0%,
      rgba(255,255,255,calc(var(--myed-beam-a) * 0.14)) 0%,
      rgba(255,255,255,0.00) 58%);

  mix-blend-mode: screen;
  opacity: 0.85;
}

/* Vignette */
myed-vitrine.myed-vitrine .myed-vitrine__fx::after{
  content:"";
  position: absolute;
  inset: 0;

  background: radial-gradient(120% 110% at 50% 42%,
    rgba(0,0,0,0.00) 40%,
    rgba(0,0,0,calc(var(--myed-vig-a) * 0.35)) 72%,
    rgba(0,0,0,calc(var(--myed-vig-a) * 0.68)) 100%);

  opacity: 0.95;
}

/* Floor reflection band (below shelf) */
myed-vitrine.myed-vitrine .myed-vitrine__stage-inner{
  position: relative;
}

myed-vitrine.myed-vitrine .myed-vitrine__stage-inner::after{
  content:"";
  position: absolute;
  left: 0;
  right: 0;

  top: calc(var(--myed-shelf-y-safe) + 10%);
  height: 22%;

  background: linear-gradient(
    to bottom,
    rgba(255,255,255,calc(var(--myed-floor-a) * 0.08)),
    rgba(255,255,255,calc(var(--myed-floor-a) * 0.04)) 28%,
    rgba(255,255,255,0.00) 72%
  );

  pointer-events: none;
  z-index: 2;
  opacity: 0.38;
}

/* Lite mode */
myed-vitrine.myed-vitrine[data-vmode="lite"] .myed-vitrine__fx::before{
  opacity: 0.60;
  mix-blend-mode: normal;
}

myed-vitrine.myed-vitrine[data-vmode="lite"] .myed-vitrine__stage-inner::after{
  opacity: 0.28;
}
