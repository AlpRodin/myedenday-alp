/* ==========================================================================
   MyEdenDay — Related Products (FULL-BLEED COVER / Premium)
   Scope: ONLY .related-products
   Goal:
   - Glass seam yok
   - Görsel camı TAM doldurur (no inset/blank edge)
   - Stabil grid (4-col desktop)
   ========================================================================== */

.related-products{
  --rp-gap: clamp(14px, 1.6vw, 24px);
  --rp-gutter: clamp(16px, 2.2vw, 40px);

  --rp-radius: 22px;

  /* IMAGE MODE */
  --rp-media-fit: cover;      /* cover = full-bleed */
  --rp-media-pos: 50% 50%;    /* center crop */

  /* Glass */
  --rp-bg: rgba(10, 14, 22, 0.42);
  --rp-bg-fallback: rgba(10, 14, 22, 0.62);
  --rp-border: rgba(255, 255, 255, 0.16);
  --rp-shadow: 0 12px 30px rgba(0, 0, 0, 0.26);

  /* Text */
  --rp-text: rgba(245, 247, 250, 0.94);
  --rp-muted: rgba(225, 233, 244, 0.78);

  /* ✅ Dawn’ın image inset kaynağını öldür */
  --image-padding: 0px;

  display:block;
  box-sizing:border-box;
  overflow:visible !important;
  clip-path:none;
  padding-inline: var(--rp-gutter);
}

.related-products.isolate,
.related-products.page-width,
.related-products.page-width-desktop{
  overflow:visible !important;
  clip-path:none;
  padding-inline: var(--rp-gutter) !important;
}

.related-products .related-products__heading{
  margin:0 0 2rem;
  color:var(--rp-text);
  text-shadow:0 2px 10px rgba(0,0,0,.35);
}

/* GRID */
.related-products .product-grid{
  --rp-cols-desktop: 4;
  --rp-cols-mobile: 2;

  display:grid !important;
  grid-template-columns: repeat(var(--rp-cols-mobile), minmax(0,1fr));
  gap: var(--rp-gap) !important;

  width:100%;
  min-width:0;
  margin:0 !important;

  padding: 2px !important; /* tiny bleed so edges never feel cut */
  list-style:none;
  overflow:visible !important;
}

.related-products .product-grid.grid--1-col-desktop{ --rp-cols-desktop: 1; }
.related-products .product-grid.grid--2-col-desktop{ --rp-cols-desktop: 2; }
.related-products .product-grid.grid--3-col-desktop{ --rp-cols-desktop: 3; }
.related-products .product-grid.grid--4-col-desktop{ --rp-cols-desktop: 4; }
.related-products .product-grid.grid--5-col-desktop{ --rp-cols-desktop: 5; }
.related-products .product-grid.grid--6-col-desktop{ --rp-cols-desktop: 6; }

.related-products .product-grid.grid--1-col-tablet-down{ --rp-cols-mobile: 1; }
.related-products .product-grid.grid--2-col-tablet-down{ --rp-cols-mobile: 2; }

@media (min-width: 990px){
  .related-products .product-grid{
    grid-template-columns: repeat(var(--rp-cols-desktop), minmax(0,1fr));
  }
}

.related-products .product-grid > .grid__item{
  width:auto !important;
  max-width:none !important;
  min-width:0 !important;
  margin:0 !important;
  padding:0 !important;
  flex:none !important;

  display:flex;  /* lets card stretch */
  overflow:visible;
}

/* Full-height cards */
.related-products .product-card-wrapper,
.related-products .card-wrapper,
.related-products .card{
  width:100%;
  min-width:0;
  height:100%;
}

/* OUTER GLASS SHELL */
.related-products .product-card-wrapper{
  position:relative;
  isolation:isolate;
  overflow:hidden;

  border-radius: var(--rp-radius);
  border: 1px solid var(--rp-border);
  box-shadow: var(--rp-shadow);
  background:transparent;

  transform: translateZ(0);
  -webkit-backface-visibility:hidden;
  backface-visibility:hidden;
}

/* only blur layer */
.related-products .product-card-wrapper::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;

  border-radius:inherit;
  background: var(--rp-bg);

  transform: translateZ(0);
  -webkit-backface-visibility:hidden;
  backface-visibility:hidden;
}

@supports ((backdrop-filter: blur(1px))){
  .related-products .product-card-wrapper::before{
    -webkit-backdrop-filter: blur(11px) saturate(118%);
    backdrop-filter: blur(11px) saturate(118%);
  }
}
@supports not ((backdrop-filter: blur(1px))){
  .related-products .product-card-wrapper::before{
    background: var(--rp-bg-fallback);
  }
}

.related-products .product-card-wrapper > *{
  position:relative;
  z-index:1;
}

.related-products .card{
  display:flex;
  flex-direction:column;
  background:transparent !important;
  border-radius: var(--rp-radius);
}

/* ✅ FULL-BLEED MEDIA FRAME (no inset) */
.related-products .card__inner{
  position:relative;           /* anchor */
  margin: 0 !important;        /* ✅ remove the 12px inset that makes “blank edge” */
  border: 0 !important;
  background: transparent !important;

  border-radius: var(--rp-radius) !important;
  overflow:hidden;

  /* stable box so layout doesn’t jump */
  min-height: clamp(180px, 22vw, 300px);
}

/* keep ratio stable (square) */
.related-products .card__inner.ratio::before{
  padding-bottom: 100% !important;
}

/* full-bleed media */
.related-products .card__media{
  position:absolute !important;
  inset:0 !important;

  margin:0 !important;
  width:100% !important;
  height:100% !important;

  border-radius: inherit !important;
  overflow:hidden !important;
}

.related-products .card__media .media{
  width:100% !important;
  height:100% !important;
  border-radius: inherit !important;
  overflow:hidden !important;
}

.related-products .card__media img,
.related-products .card__media .media img{
  width:100% !important;
  height:100% !important;
  display:block;

  object-fit: var(--rp-media-fit) !important;
  object-position: var(--rp-media-pos) !important;
}

/* CONTENT */
.related-products .card > .card__content{ flex:1 1 auto; }

.related-products .card__content{
  display:block;
  padding: 13px 15px 16px;

  background: linear-gradient(
    to bottom,
    rgba(10,14,22,.10) 0%,
    rgba(10,14,22,.55) 60%,
    rgba(10,14,22,.80) 100%
  );
  border-top: 1px solid rgba(255,255,255,.10);
}

.related-products .card__information{ padding:0; }

.related-products .card__heading{
  margin:0;
  line-height:1.3;

  display:-webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  overflow:hidden;
}

.related-products .card__heading,
.related-products .card__heading a{ color: var(--rp-text) !important; }

.related-products .card-information,
.related-products .card__information,
.related-products .card-information *{ color: var(--rp-muted) !important; }

.related-products .price,
.related-products .price-item{
  color: var(--rp-text) !important;
  font-weight:600;
}

/* kill shape filter artifacts only here */
.related-products .card--shape.card--standard:not(.card--text) .card__inner{
  filter:none !important;
}

/* kill Dawn decorative pseudo layers that can cause seams */
.related-products .card--card::before,
.related-products .card--card::after,
.related-products .card--standard .card__inner::before,
.related-products .card--standard .card__inner::after,
.related-products .card--standard .card__media::after,
.related-products .card__media::before{
  content:none !important;
}

/* responsive spacing */
@media (max-width: 989px){
  .related-products{
    --rp-gutter: clamp(14px, 4vw, 20px);
    --rp-gap: clamp(12px, 3vw, 16px);
  }
}
@media (max-width: 749px){
  .related-products .card__content{ padding: 12px 14px 14px; }
}
